RewriteEngine On

# 1. Exclude static files from rewrites
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 2. Rewrite .html to .php for pages
RewriteRule ^([a-zA-Z0-9-]+)\.html$ $1.php [L]

# 3. Rewrite /product/product-name.html to productPage.php?slug=product-name
RewriteRule ^product/([a-zA-Z0-9-]+)\.html$ productPage.php?slug=$1 [QSA,L]

# 4. Rewrite /category/category-name.html to categoryPage.php?slug=category-name
RewriteRule ^category/([a-zA-Z0-9-]+)\.html$ categoryPage.php?slug=$1 [QSA,L]

# 5. Redirect PHP URLs to .html equivalents
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1.html [R=301,L]
